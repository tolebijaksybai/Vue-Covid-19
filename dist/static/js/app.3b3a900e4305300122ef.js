webpackJsonp([1],{"7zck":function(t,n){},GoWg:function(t,n){},NHnr:function(t,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=s("7+uW"),e={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("v-app",{staticClass:"v-application"},[s("v-navigation-drawer",{attrs:{app:""},model:{value:t.drawer,callback:function(n){t.drawer=n},expression:"drawer"}},[s("v-list-item",[s("v-list-item-content",[s("v-list-item-title",{staticClass:"title"},[t._v("Dashboard")])],1)],1),t._v(" "),s("v-divider"),t._v(" "),s("v-list",{attrs:{dense:"",nav:""}},t._l(t.items,function(n){return s("v-list-item",{key:n.title,attrs:{link:"",to:n.link}},[s("v-list-item-icon",[s("v-icon",[t._v(t._s(n.icon))])],1),t._v(" "),s("v-list-item-content",[s("v-list-item-title",[t._v(t._s(n.title))])],1)],1)}),1)],1),t._v(" "),s("v-app-bar",{attrs:{color:"accent-4",dense:"",dark:"",app:""}},[s("v-app-bar-nav-icon",{on:{click:function(n){t.drawer=!t.drawer}}}),t._v(" "),s("v-toolbar-title",{staticClass:"headline"},[s("v-icon",[t._v("mdi-virus")]),t._v(" COVID-19\n    ")],1),t._v(" "),s("v-spacer"),t._v(" "),s("v-menu",{attrs:{left:"",bottom:""},scopedSlots:t._u([{key:"activator",fn:function(n){var a=n.on,e=n.attrs;return[s("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",e,!1),a),[s("v-icon",[t._v("mdi-dots-vertical")])],1)]}}])},[t._v(" "),s("v-list",t._l(t.countries,function(n){return s("v-list-item",{key:n,attrs:{link:"",to:"/country/"+n},on:{click:function(){}}},[s("v-list-item-title",{on:{click:function(s){return t.updateCountry(n)}}},[t._v(t._s(n))])],1)}),1)],1)],1),t._v(" "),s("v-main",{staticClass:"ma-2",attrs:{app:""}},[s("v-container",{attrs:{fluid:""}},[s("router-view")],1)],1)],1)},staticRenderFns:[]};var o=s("VU/8")({name:"app",data:function(){return{items:[{title:"Мировое резюме",icon:"mdi-earth",link:"/"},{title:"Страны",icon:"mdi-flag",link:"/country"},{title:"Новости",icon:"mdi-newspaper",link:"/"}],drawer:!1}},mounted:function(){this.$store.dispatch("updateTopCountries")},methods:{updateCountry:function(t){this.$store.dispatch("newCountryName",t)}},computed:{countries:function(){return this.$store.getters.topCountries}}},e,!1,function(t){s("tTvN")},null,null).exports,r=s("/ocq"),i=s("BO1k"),c=s.n(i),u={name:"Country",data:function(){return{}},props:{bgColor:String,cardIcon:String,cardTitle:String,cardAmount:Number,cardAmountNew:Number}},l={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("v-card",{staticClass:"summary-card ma-3 pt-6",class:t.bgColor,attrs:{"max-width":"300",elevation:"2"}},[s("div",{staticClass:"icon-wrapper"},[s("v-icon",[t._v(t._s(t.cardIcon))])],1),t._v(" "),s("v-card-title",{staticClass:"headline text-bold"},[s("span",{staticClass:"count",attrs:{title:t.cardAmountNew+" last day"}},[t._v("\n      "+t._s(t.cardAmount)+"\n    ")])]),t._v(" "),s("v-card-subtitle",{staticClass:"text-center text-bold"},[t._v("\n    "+t._s(t.cardTitle)+"\n  ")])],1)},staticRenderFns:[]};var d=s("VU/8")(u,l,!1,function(t){s("cvKM")},"data-v-21c5bbd0",null).exports,m=s("UlOv"),v=m.b.reactiveProp,h=a.default.component("lineChart",{extends:m.a,props:{options:Object},mixins:[v],mounted:function(){this.renderChart(this.chartData,this.options)}}),p={name:"Total",data:function(){return{cards:[{title:"tota cases",bgColor:"primary lighten-2",amount:1e3,amountNew:200,icon:"mdi-alert-box"},{title:"tota cases",bgColor:"red accent-2",amount:1e3,amountNew:200,icon:"mdi-emoticon-dead"},{title:"tota cases",bgColor:"teal lighten-1",amount:1e3,amountNew:200,icon:"mdi-hospital-box"}],visuals:[{id:1,chartData:null,options:{responsive:!0,maintainAspectRatio:!1}}],continents:null,allData:null}},components:{Card:d,LineChart:h},mounted:function(){var t=this;this.axios.get("https://corona.lmao.ninja/v2/continents").then(function(n){t.continents=n,t.updateStats()}).catch(function(t){console.log(t)}),this.axios.get("https://corona.lmao.ninja/v2/historical/all").then(function(n){t.allData=n,t.updateVisuals()}).catch(function(t){console.log(t)})},methods:{updateStats:function(){var t=this.continents.data,n=0,s=0,a=0,e=0,o=0,r=0,i=!0,u=!1,l=void 0;try{for(var d,m=c()(t);!(i=(d=m.next()).done);i=!0){var v=d.value;n+=v.cases,s+=v.todayCases,a+=v.deaths,e+=v.todayDeaths,o+=v.recovered,r+=v.todayRecovered}}catch(t){u=!0,l=t}finally{try{!i&&m.return&&m.return()}finally{if(u)throw l}}this.cards[0].amount+=n,this.cards[0].amountNew+=s,this.cards[1].amount+=a,this.cards[1].amountNew+=e,this.cards[2].amount+=o,this.cards[2].amountNew+=r},updateVisuals:function(){var t=this.allData.data,n=t.cases,s=t.deaths,a=t.recovered,e=[],o=[],r=[],i=[];for(var c in n)e.push(c),o.push(n[c]),r.push(s[c]),i.push(a[c]);console.log(e),console.log(o),this.visuals[0].chartData={labels:e,datasets:[{label:"Total cases",backgroundColor:"#6aaaff",data:o}]},this.visuals.push({id:2,chartData:{labels:e,datasets:[{label:"Deaths",backgroundColor:"#ff5252",data:r}]},options:{responsive:!0,maintainAspectRatio:!1}}),this.visuals.push({id:3,chartData:{labels:e,datasets:[{label:"recoveries",backgroundColor:"#26a69a",data:i}]},options:{responsive:!0,maintainAspectRatio:!1}});var u=o[o.length-1]-o[o.length-2],l=r[r.length-1]-r[r.length-2],d=i[i.length-1]-i[i.length-2];this.cards[0].amountNew+=u,this.cards[1].amountNew+=l,this.cards[2].amountNew+=d}}},j={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("main",{staticClass:"pa-2"},[s("section",[s("h1",{staticClass:"display-1 mb-5 text-center"},[t._v("Мировой сводный статус")]),t._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.cards,function(t){return s("Card",{key:t.bgColor,attrs:{cardTitle:t.title,bgColor:t.bgColor,cardAmount:t.amount,cardAmountNew:t.amountNew,cardIcon:t.icon}})}),1)],1),t._v(" "),s("section",[s("h2",{staticClass:"display-1 ma-5 text-center"},[t._v("Визуальные эффекты")]),t._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.visuals,function(t){return s("LineChart",{key:t.id,staticClass:"ma-4",attrs:{chartData:t.chartData,options:t.option}})}),1)],1)])},staticRenderFns:[]};var f=s("VU/8")(p,j,!1,function(t){s("SUk/")},"data-v-2b35fdf8",null).exports,g={name:"Country",data:function(){return{cards:[],visuals:[]}},props:["queryName"],components:{Card:d,LineChart:h},computed:{countryDataCards:function(){var t=this.$store.getters.country,n=[];return n.push({title:"всего случаев",bgColor:"primary lighten-2",amount:t.cases,amountNew:0,icon:"mdi-alert-box"}),n.push({title:"летальные исходы",bgColor:"red accent-2",amount:t.deaths,amountNew:0,icon:"mdi-emoticon-dead"}),n.push({title:"восстановление",bgColor:"teal lighten-1",amount:t.recoveries,amountNew:0,icon:"mdi-hospital-box"}),n},countryDataVisuals:function(){var t=this.$store.getters.country,n=[];return n.push({id:1,chartData:{labels:t.visualLabels,datasets:[{label:"Всего случаев",backgroundColor:"#6aaaff",data:t.visualData.cases}]},options:{responsive:!0,maintainAspectRatio:!1}}),n.push({id:2,chartData:{labels:t.visualLabels,datasets:[{label:"Летальные исходы",backgroundColor:"#ff5252",data:t.visualData.deaths}]},options:{responsive:!0,maintainAspectRatio:!1}}),n.push({id:3,chartData:{labels:t.visualLabels,datasets:[{label:"Возврат",backgroundColor:"#26a69a",data:t.visualData.recoveries}]},options:{responsive:!0,maintainAspectRatio:!1}}),n}}},y={render:function(){var t=this,n=t.$createElement,s=t._self._c||n;return s("main",{staticClass:"pa-2"},[s("section",[s("h1",{staticClass:"display-1 mb-5 text-center"},[t._v(t._s(t.queryName))]),t._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.countryDataCards,function(t){return s("Card",{key:t.title,attrs:{cardTitle:t.title,bgColor:t.bgColor,cardAmount:t.amount,cardAmountNew:t.amountNew,cardIcon:t.icon}})}),1)],1),t._v(" "),s("section",[s("h2",{staticClass:"display-1 ma-5 text-center"},[t._v("Визуальные эффекты")]),t._v(" "),s("v-row",{attrs:{align:"center",justify:"center"}},t._l(t.countryDataVisuals,function(t){return s("LineChart",{key:t.id,staticClass:"ma-4",attrs:{chartData:t.chartData,options:t.option}})}),1)],1)])},staticRenderFns:[]};var b=s("VU/8")(g,y,!1,function(t){s("GoWg")},"data-v-36fbda8f",null).exports;a.default.use(r.a);var C=new r.a({routes:[{path:"/",name:"Total",component:f},{path:"/country",name:"Country",component:b},{path:"/country/:queryName",name:"Country",component:b,props:!0,beforeEnter:function(t,n,s){var a=t.params.queryName;store.dispatch("newCountryName",a),s()}}]}),w=s("3EgV"),k=s.n(w);s("7zck"),s("csSS");a.default.use(k.a);var N=new k.a({icons:{iconfont:"mdi"},theme:{options:{customProperties:!0},themes:{dark:{background:"#292930"}},dark:!0}}),_=s("mtWM"),z=s.n(_),x=s("DWlv"),D=s.n(x),E=s("NYxO"),R=s("Zrlr"),S=s.n(R),L=function t(n,s,a,e,o,r,i){S()(this,t),this.id=n,this.name=s,this.cases=a,this.deaths=e,this.recoveries=o,this.visualData=r,this.visualLabels=i},O={state:{currCountryName:null,countries:[],topCountries:[]},mutations:{newCountry:function(t,n){t.countries.push(n)},newCountryName:function(t,n){t.currCountryName=n},newTopCountry:function(t,n){t.topCountries=n}},actions:{newCountry:function(t,n){var s=this,a=t.commit,e=t.getters;a("clearError"),a("setLoading",!0),console.log("new country is",n),z.a.get("https://corona.lmao.ninja/v2/historical/"+n+"?lastdays=30").then(function(t){var n=t.data,o=[],r={},i=[],c=[],u=[];for(var l in n.timeline.cases)o.push(l),i.push(n.timeline.cases[l]),c.push(n.timeline.deaths[l]),u.push(n.timeline.recovered[l]);r.cases=i,r.deaths=c,r.recoveries=u;var d=e.countryId,m=new L(d,n.country,i[i.length-1],c[c.length-1],u[u.length-1],r,o);console.log("new state is",s.state),a("setLoading",!1),a("newCountry",m)}).catch(function(t){throw a("setLoading",!1),a("setError",t.message),t})},newCountryName:function(t,n){(0,t.commit)("newCountryName",n)},updateTopCountries:function(t){var n=t.commit,s=t.dispatch;n("clearError"),n("setLoading",!0),z.a.get("https://corona.lmao.ninja/v2/countries?sort=active").then(function(t){var a=t.data.slice(0,5);a=a.map(function(t){return t.country}),n("newTopCountry",a);var e=!0,o=!1,r=void 0;try{for(var i,u=c()(a);!(e=(i=u.next()).done);e=!0){var l=i.value;s("newCountry",l)}}catch(t){o=!0,r=t}finally{try{!e&&u.return&&u.return()}finally{if(o)throw r}}n("setLoading",!1)})}},getters:{country:function(t){return console.log("data is",t.countries.find(function(n){return n.name===t.currCountryName})),t.countries.find(function(n){return n.name===t.currCountryName})},currentCountry:function(t){return console.log("currentCountry",t.currCountryName),t.currCountryName},countryId:function(t){return t.countries.length},topCountries:function(t){return console.log("countries:",t.countries),t.topCountries}}};a.default.use(E.a);var F=new E.a.Store({modules:{common:{state:{loading:!1,error:null},mutations:{setLoading:function(t,n){t.loading=n},setError:function(t,n){t.error=n},clearError:function(t){t.error=null}},actions:{setLoading:function(t,n){(0,t.commit)("setLoading",n)},setError:function(t,n){(0,t.commit)("setError",n)},clearError:function(t,n){(0,t.commit)("clearError")}},getters:{loading:function(t){return t.loading},error:function(t){return t.error}}},country:O}});a.default.use(D.a,z.a),a.default.config.productionTip=!1,new a.default({el:"#app",router:C,vuetify:N,store:F,components:{App:o},template:"<App/>"})},"SUk/":function(t,n){},csSS:function(t,n){},cvKM:function(t,n){},tTvN:function(t,n){},uslO:function(t,n,s){var a={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn-bd":"1C9R","./bn-bd.js":"1C9R","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-in":"yJfC","./en-in.js":"yJfC","./en-nz":"dyB6","./en-nz.js":"dyB6","./en-sg":"NYST","./en-sg.js":"NYST","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-mx":"USNP","./es-mx.js":"USNP","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fil":"rMbQ","./fil.js":"rMbQ","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./ga":"U5Iz","./ga.js":"U5Iz","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-deva":"VGQH","./gom-deva.js":"VGQH","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it-ch":"/E8D","./it-ch.js":"/E8D","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ku":"kI9l","./ku.js":"kI9l","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./oc-lnc":"KOFO","./oc-lnc.js":"KOFO","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tk":"+WRH","./tk.js":"+WRH","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-mo":"+WA1","./zh-mo.js":"+WA1","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function e(t){return s(o(t))}function o(t){var n=a[t];if(!(n+1))throw new Error("Cannot find module '"+t+"'.");return n}e.keys=function(){return Object.keys(a)},e.resolve=o,t.exports=e,e.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.3b3a900e4305300122ef.js.map